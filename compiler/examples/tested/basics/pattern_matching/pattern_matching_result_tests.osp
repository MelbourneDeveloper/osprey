// Result Pattern Matching and Ternary Tests  
// Tests: Built-in Result type ternary syntax, arithmetic Result handling

// SECTION 1: Arithmetic operations return Result<int, MathError>
let calculation = 10 + 5
print("Arithmetic calculation created")

// SECTION 2: Test simple boolean ternary first
let testBool = true
let boolResult = testBool ? 42 : -1
print(boolResult)

// SECTION 3: Result Elvis operator - automatically extracts Success value or uses default on Error
let successValue = calculation ?: -1  // Should extract 15 from Success, or -1 on Error
print(successValue)

// SECTION 4: Function returning Result type
fn divide(a, b) = a / b

// SECTION 5: Test Result Elvis operator - success case
let divisionGood = divide(a: 10, b: 2)
let goodResult = divisionGood ?: 0.0  // Should extract 5.0 from Success, or 0.0 on Error
print(goodResult)

// SECTION 6: Test Result Elvis operator - error case
let divisionBad = divide(a: 10, b: 0)
let badResult = divisionBad ?: 0.0  // Should return 0.0 on Error, or extract value on Success
print(badResult)

// SECTION 7: Test Result<int> toString conversion
print("Testing Result<int> toString:")
let goodCalc = 20 + 30  // Result<int, MathError>
print("Result<int> Success: ${toString(goodCalc)}")  // Should print "50"
let zeroDivision = 10 / 0  // Result<float, MathError> - division always returns float
print("Result<float> Error: ${toString(zeroDivision)}")  // Should print "Error"